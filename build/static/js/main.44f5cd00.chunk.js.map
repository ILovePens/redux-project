{"version":3,"sources":["features/counter/Counter.module.css","features/bejeweled/Counter.module.css","features/connectX/ConnectX.module.css","features/nav/Nav.module.css","history.js","components/Connexion.js","logo.svg","features/nav/navSlice.js","features/general/helpers/Components.js","features/nav/Nav.js","features/counter/counterAPI.js","features/counter/counterSlice.js","features/counter/Counter.js","features/tictactoe/tictactoeSlice.js","features/tictactoe/components/Square.js","features/tictactoe/components/Board.js","features/tictactoe/TicTacToe.js","features/connectX/connectXSlice.js","features/connectX/components/Slot.js","features/connectX/ConnectXTransitions.js","features/connectX/components/Board.js","features/connectX/components/Form.js","features/connectX/ConnectX.js","features/general/helpers/Functions.js","features/bejeweled/counterAPI.js","features/bejeweled/counterSlice.js","features/bejeweled/Tbd.js","App.js","components/NotFound.js","app/store.js","index.js","features/tictactoe/Tictactoe.module.css"],"names":["module","exports","createBrowserHistory","Connexion","goToChat","event","preventDefault","console","log","pseudo","pseudoInput","value","history","push","className","onSubmit","i","type","placeholder","required","ref","input","React","Component","navSlice","createSlice","name","initialState","reducers","reset","state","actions","Switch","props","checked","isOn","onClick","readOnly","Reset","title","Nav","dispatch","useDispatch","navItems","Object","keys","items","map","key","index","handleClick","fetchCount","amount","Promise","resolve","setTimeout","data","incrementAsync","createAsyncThunk","a","response","counterSlice","status","increment","decrement","incrementByAmount","action","payload","extraReducers","builder","addCase","pending","fulfilled","selectCount","counter","Counter","count","useSelector","useState","incrementAmount","setIncrementAmount","incrementValue","Number","styles","row","button","textbox","onChange","e","target","asyncButton","getState","squares","Array","fill","winSquares","xIsNext","stepNumber","sortIsAsc","tictactoeSlice","slice","length","concat","jumpTo","toggleSort","selectHistory","tictactoe","selectStepNumber","selectXIsNext","selectSortIsAsc","Square","squareWinClass","find","win","square","Board","this","board","j","renderSquare","board_row","isGameBoard","isSelected","gameBoardClass","game_board","selectedClass","selected","createBoard","TicTacToe","current","lines","b","c","calculateWinner","moves","step","move","desc","sort","game","game_info","scrollableY","slots","boardFlip","gameSettings","width","height","scoreTarget","gravIsOn","transitions","connectXSlice","slotIndex","slotScore","changeStep","toggleGravity","launchedWithClick","slotsChanged","l","targetIndex","flipBoardState","flipValue","newSlots","rowCount","setGameSettings","connectX","selectGameSettings","selectGravityState","selectTransitions","flipBoard","direction","Slot","transitionClass","speed","fall","Math","round","contentClass","slotContent","slotContentX","slotContentO","winClass","winStyle","slot","style","onTransitionEnd","handleTransitionEnd","styleWin","from","document","querySelectorAll","forEach","classList","add","renderSlot","isBoardWon","animationCallback","onClickFunc","undefined","winIndexes","includes","maxScore","filter","el","findIndex","boardParams","isMainBoard","startAngle","flip","main_board","styleBoard","size","slotSize","floor","window","innerHeight","slotSizeDiff","fontSize","remove","animate","main","Form","prepareInfos","gameInfos","parseInt","sendGameSettings","infosForm","form","pattern","maxLength","ConnectX","currentSlots","boardWidth","previous","rowLength","winSlots","finalWinSlots","indexes","currentValue","streakL","streakR","streakT","streakB","streakTL","streakBR","streakTR","streakBL","isLatestHistoryMove","player","streakCount","settings","controls","Tbd","App","itemSelected","bind","setState","createElement","NotFound","combinedReducer","combineReducers","nav","navReducer","counterReducer","tictactoeReducer","connectXReducer","configureStore","reducer","middleware","getDefaultMiddleware","ReactDOM","render","StrictMode","store","basename","exact","path","component","getElementById"],"mappings":"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","file":"static/js/main.44f5cd00.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"Counter_row__25RA2\",\"value\":\"Counter_value__1LyDH\",\"button\":\"Counter_button__1Mrat\",\"textbox\":\"Counter_textbox__3xGUA\",\"asyncButton\":\"Counter_asyncButton__24jSS Counter_button__1Mrat\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"Counter_row__-ob4V\",\"value\":\"Counter_value__1mJ_F\",\"button\":\"Counter_button__2N3Ru\",\"textbox\":\"Counter_textbox__3t7Hj\",\"asyncButton\":\"Counter_asyncButton__3xT0m Counter_button__2N3Ru\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"game\":\"ConnectX_game__1x_fZ\",\"form\":\"ConnectX_form__34LiB\",\"main\":\"ConnectX_main__6vhcL\",\"main_board\":\"ConnectX_main_board__1BL24\",\"title\":\"ConnectX_title__2bStg\",\"board\":\"ConnectX_board__3OnTo\",\"board_row\":\"ConnectX_board_row__CsIJA\",\"slot\":\"ConnectX_slot__25hJA\",\"slotContent\":\"ConnectX_slotContent__GfqZP\",\"slotContentX\":\"ConnectX_slotContentX__18XTw\",\"slotContentO\":\"ConnectX_slotContentO__1evBh\",\"win\":\"ConnectX_win__X-N9o\",\"scaleAnim\":\"ConnectX_scaleAnim__3zEhe\",\"game_info\":\"ConnectX_game_info__2JF9V\",\"controls\":\"ConnectX_controls__ekhdW\",\"status\":\"ConnectX_status__2MWFR\",\"moves\":\"ConnectX_moves__1ki_t\",\"selected\":\"ConnectX_selected__1Puyt\",\"kbd-navigation\":\"ConnectX_kbd-navigation__35g11\",\"scrollableY\":\"ConnectX_scrollableY__1Mm7t\",\"flipR\":\"ConnectX_flipR__2HwCv\",\"animate\":\"ConnectX_animate__3ZyN7\",\"flip\":\"ConnectX_flip__2PQK3\",\"fall\":\"ConnectX_fall__13rRa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"board_row\":\"Nav_board_row__3-19E\",\"status\":\"Nav_status__2SMaQ\",\"square\":\"Nav_square__l5M2q\",\"selected\":\"Nav_selected__3hogA\",\"win\":\"Nav_win__1dR1J\",\"kbd-navigation\":\"Nav_kbd-navigation__3izzR\",\"game\":\"Nav_game__8RKFz\",\"game_info\":\"Nav_game_info__31PA2\",\"board\":\"Nav_board__3uLy7\",\"game_board\":\"Nav_game_board__3X1uY\",\"moves\":\"Nav_moves__1bJFZ\",\"scrollableY\":\"Nav_scrollableY__3DVvq\"};","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();","import React from 'react';\r\nimport history from '../history';\r\nclass Connexion extends React.Component {\r\n\r\n\tgoToChat = event => {\r\n\t\tevent.preventDefault();\r\n\t\tconsole.log(this);\r\n\t\tconst pseudo = this.pseudoInput.value;\r\n\t\thistory.push(`/pseudo/${pseudo}`);\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"connexionBox\" onSubmit={(i) => this.goToChat(i)}>\r\n\t\t\t\t<form className=\"connexion\" >\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Pseudo\"\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tref={input => {this.pseudoInput = input}}/>\r\n\t\t\t\t\t<button type=\"submit\">GO</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Connexion;","export default __webpack_public_path__ + \"static/media/logo.db36153e.svg\";","import { createSlice } from '@reduxjs/toolkit';\r\n// import { fetchCount } from './navAPI';\r\n\r\nconst initialState = {\r\n};\r\n\r\nexport const navSlice = createSlice({\r\n  name: 'nav',\r\n  initialState,\r\n  // The `reducers` field lets us define reducers and generate associated actions\r\n  reducers: {\r\n    reset: state => {\r\n      // From here we can take action only at this \"counter\" state\r\n      // But, as we have taken care of this particular \"logout\" action\r\n      // in rootReducer, we can use it to CLEAR the complete Redux Store's state\r\n    }\r\n  }\r\n});\r\n\r\nexport const { reset } = navSlice.actions;\r\n\r\n// export const selectSortIsAsc = (state) => state.nav.sortIsAsc;\r\n\r\nexport default navSlice.reducer;\r\n","import React from 'react';\r\n\r\nexport function Switch(props) {\r\n  return (\r\n    <label className=\"switch\">\r\n\t\t  <input\r\n\t\t\t  type=\"checkbox\"\r\n\t\t\t  checked={props.isOn}\r\n\t\t\t  onClick={props.onClick}\r\n\t\t\t  readOnly\r\n\t\t  />\r\n\t\t  <span className=\"slider\"></span>\r\n\t\t</label>\r\n\t);\r\n}\r\n\r\nexport function Reset(props) {\r\n  return (\r\n    <button className=\"reset\" onClick={props.onClick}>\r\n    \t{props.title}\t\t\t  \r\n\t</button>\r\n\t);\r\n}\r\n\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { reset } from './navSlice';\r\nimport { Reset } from '../general/helpers/Components';\r\nimport styles from './Nav.module.css';\r\n\r\nexport function Nav(props) {\r\n  const dispatch = useDispatch();\r\n  const navItems = Object.keys(props.items)\r\n        .map((key,index) =>\r\n          <button name={key} key={index} onClick={(i) => props.handleClick(i)}>{key}</button>\r\n        );\r\n  return (\r\n    <header className=\"App-header\">\r\n      <div className=\"nav-items\">\r\n        {navItems}\r\n      </div>\r\n      <Reset title=\"Reset all\" onClick={() => dispatch(reset())}/>        \r\n    </header>\r\n  );\r\n}\r\n","// A mock function to mimic making an async request for data\r\nexport function fetchCount(amount = 1) {\r\n  return new Promise((resolve) =>\r\n    setTimeout(() => resolve({ data: amount }), 500)\r\n  );\r\n}\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { fetchCount } from './counterAPI';\r\n\r\nconst initialState = {\r\n  value: 0,\r\n  status: 'idle',\r\n};\r\n\r\n// The function below is called a thunk and allows us to perform async logic. It\r\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\r\n// will call the thunk with the `dispatch` function as the first argument. Async\r\n// code can then be executed and other actions can be dispatched. Thunks are\r\n// typically used to make async requests.\r\nexport const incrementAsync = createAsyncThunk(\r\n  'counter/fetchCount',\r\n  async (amount) => {\r\n    const response = await fetchCount(amount);\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const counterSlice = createSlice({\r\n  name: 'counter',\r\n  initialState,\r\n  // The `reducers` field lets us define reducers and generate associated actions\r\n  reducers: {\r\n    increment: (state) => {\r\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n      // doesn't actually mutate the state because it uses the Immer library,\r\n      // which detects changes to a \"draft state\" and produces a brand new\r\n      // immutable state based off those changes\r\n      state.value += 1;\r\n    },\r\n    decrement: (state) => {\r\n      state.value -= 1;\r\n    },\r\n    // Use the PayloadAction type to declare the contents of `action.payload`\r\n    incrementByAmount: (state, action) => {\r\n      state.value += action.payload;\r\n    },\r\n    reset: (state) => {\r\n      state.value = 0;\r\n    }\r\n  },\r\n  // The `extraReducers` field lets the slice handle actions defined elsewhere,\r\n  // including actions generated by createAsyncThunk or in other slices.\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(incrementAsync.pending, (state) => {\r\n        state.status = 'loading';\r\n      })\r\n      .addCase(incrementAsync.fulfilled, (state, action) => {\r\n        state.status = 'idle';\r\n        state.value += action.payload;\r\n      });\r\n  },\r\n});\r\nexport const { increment, decrement, incrementByAmount, reset } = counterSlice.actions;\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\r\nexport const selectCount = (state) => state.counter.value;\r\n\r\n// We can also write thunks by hand, which may contain both sync and async logic.\r\n// Here's an example of conditionally dispatching actions based on current state.\r\nexport const incrementIfOdd = (amount) => (dispatch, getState) => {\r\n  const currentValue = selectCount(getState());\r\n  if (currentValue % 2 === 1) {\r\n    dispatch(incrementByAmount(amount));\r\n  }\r\n};\r\n\r\nexport default counterSlice.reducer;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  decrement,\r\n  increment,\r\n  incrementByAmount,\r\n  incrementAsync,\r\n  incrementIfOdd,\r\n  reset,\r\n  selectCount,\r\n} from './counterSlice';\r\nimport { Reset } from '../general/helpers/Components';\r\nimport styles from './Counter.module.css';\r\n\r\nexport function Counter() {\r\n  const count = useSelector(selectCount);\r\n  const dispatch = useDispatch();\r\n  const [incrementAmount, setIncrementAmount] = useState('2');\r\n\r\n  const incrementValue = Number(incrementAmount) || 0;\r\n\r\n  return (\r\n    <div>\r\n      <div className={styles.row}>\r\n        <button\r\n          className={styles.button}\r\n          aria-label=\"Decrement value\"\r\n          onClick={() => dispatch(decrement())}\r\n        >\r\n          -\r\n        </button>\r\n        <span className={styles.value}>{count}</span>\r\n        <button\r\n          className={styles.button}\r\n          aria-label=\"Increment value\"\r\n          onClick={() => dispatch(increment())}\r\n        >\r\n          +\r\n        </button>\r\n      </div>\r\n      <div className={styles.row}>\r\n        <input\r\n          className={styles.textbox}\r\n          aria-label=\"Set increment amount\"\r\n          value={incrementAmount}\r\n          onChange={(e) => setIncrementAmount(e.target.value)}\r\n        />\r\n        <button\r\n          className={styles.button}\r\n          onClick={() => dispatch(incrementByAmount(incrementValue))}\r\n        >\r\n          Add Amount\r\n        </button>\r\n        <button\r\n          className={styles.asyncButton}\r\n          onClick={() => dispatch(incrementAsync(incrementValue))}\r\n        >\r\n          Add Async\r\n        </button>\r\n        <button\r\n          className={styles.button}\r\n          onClick={() => dispatch(incrementIfOdd(incrementValue))}\r\n        >\r\n          Add If Odd\r\n        </button>\r\n        <Reset title=\"Reset\" onClick={() => dispatch(reset())}/>        \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\n// import { fetchCount } from './tictactoeAPI';\r\n\r\nconst initialState = {\r\n  // Shared states\r\n  history: [{\r\n    squares: Array(9).fill(null),\r\n  }],\r\n  winSquares: [], \r\n\r\n  // Game only states\r\n  xIsNext: true,\r\n  stepNumber: 0,\r\n  sortIsAsc: true,\r\n};\r\n\r\nexport const tictactoeSlice = createSlice({\r\n  name: 'tictactoe',\r\n  initialState,\r\n  // The `reducers` field lets us define reducers and generate associated actions\r\n  reducers: {\r\n    handleClick: (state, action) => {\r\n      const history = state.history.slice(0, state.stepNumber + 1);\r\n      // We ensure the erasure of any \"future\" steps if the game is resumed from a history move\r\n      const current = history[history.length - 1];    \r\n      const squares = current.squares.slice();\r\n\r\n      if (state.winSquares.length || squares[action.payload] ) {\r\n        return; // Can't play a square if there's a winner or if it has already been played\r\n      }\r\n      // We alternate players, add the current board to the history, and assign the stepNumber based on the new history\r\n      squares[action.payload] = state.xIsNext ? 'X' : 'O';\r\n\r\n      state.history = history.concat([{squares: squares}]);\r\n      state.stepNumber = history.length;      \r\n      state.xIsNext = !state.xIsNext      \r\n    },\r\n\r\n    jumpTo: (state, action) => {\r\n      state.stepNumber = action.payload;\r\n      state.xIsNext = (action.payload % 2) === 0;\r\n    },\r\n\r\n    toggleSort: (state) => {\r\n      state.sortIsAsc = state.sortIsAsc ? false : true;\r\n    },\r\n\r\n    reset: (state) => {\r\n      state.history = [{squares: Array(9).fill(null)}];\r\n      state.stepNumber = 0;\r\n    }\r\n  },\r\n  // The `extraReducers` field lets the slice handle actions defined elsewhere,\r\n  // including actions generated by createAsyncThunk or in other slices.\r\n  // extraReducers: (builder) => {\r\n  //   builder\r\n  //     .addCase(incrementAsync.pending, (state) => {\r\n  //       state.status = 'loading';\r\n  //     })\r\n  //     .addCase(incrementAsync.fulfilled, (state, action) => {\r\n  //       state.status = 'idle';\r\n  //       state.value += action.payload;\r\n  //     });\r\n  // },\r\n});\r\n\r\nexport const { handleClick, jumpTo, toggleSort, reset } = tictactoeSlice.actions;\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state: RootState) => state.tictactoe.value)`\r\nexport const selectHistory = (state) => state.tictactoe.history;\r\nexport const selectStepNumber = (state) => state.tictactoe.stepNumber;\r\nexport const selectXIsNext = (state) => state.tictactoe.xIsNext;\r\nexport const selectSortIsAsc = (state) => state.tictactoe.sortIsAsc;\r\n\r\n// We can also write thunks by hand, which may contain both sync and async logic.\r\n// Here's an example of conditionally dispatching actions based on current state.\r\n// export const incrementIfOdd = (amount) => (dispatch, getState) => {\r\n//   const currentValue = selectCount(getState());\r\n//   if (currentValue % 2 === 1) {\r\n//     dispatch(incrementByAmount(amount));\r\n//   }\r\n// };\r\n\r\nexport default tictactoeSlice.reducer;\r\n","import React from 'react';\r\nimport styles from '../Tictactoe.module.css';\r\n\r\nfunction Square(props) {\r\n\tlet squareWinClass = \"\";\r\n\tif(props.winSquares) {\r\n\tsquareWinClass = (props.winSquares).find(e => e === props.index) + 1 ? \" \" + styles.win : \"\";\r\n\t\t// +1 is here to avoid a failed test when the square indexed \"0\" is part of the winning squares\r\n\t}\r\n  return (\r\n    <button\r\n    \tclassName={styles.square + squareWinClass}\r\n    \tonClick={props.onClick} //this is not html onClick\r\n    >\r\n      {props.value}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Square;","import React from 'react';\r\nimport Square from './Square';\r\nimport styles from '../Tictactoe.module.css';\r\n\r\nclass Board extends React.Component {\r\n  renderSquare(i) {\r\n    return (\r\n    \t<Square\r\n    \t\tkey={i}   // We can't access \"key\" as a prop in child\r\n    \t\tindex={i} // component so we pass it here instead\r\n    \t\tvalue={this.props.squares[i]}\r\n    \t\tonClick={() => this.props.onClick(i)}\r\n    \t\twinSquares={this.props.winSquares}\r\n    \t/> \r\n    );\r\n  }\r\n\r\n  createBoard() {\r\n    let board = []\r\n    let index = -1;\r\n    // Outer loop to create parent\r\n    for (let i = 0; i < 3; i++) {\r\n      let squares = [];\r\n      //Inner loop to create children\r\n      for (let j = 0; j < 3; j++) {\r\n        index++;\r\n        squares.push(this.renderSquare(index));\r\n      }\r\n      //Create the parent and add the children\r\n      board.push(<div key={i} className={styles.board_row}>{squares}</div>)\r\n    }\r\n    return board\r\n  }\r\n\r\n  render() {\r\n    const isGameBoard = typeof this.props.isSelected === \"undefined\" ? true : false;\r\n\r\n    const gameBoardClass = isGameBoard ? \" \" + styles.game_board : \"\";\r\n    const selectedClass = this.props.isSelected ? \" \" + styles.selected : \"\";\r\n    const title = isGameBoard ? \"\" : this.props.title;\r\n    return (\r\n      <div>\r\n        <div className={styles.board + gameBoardClass + selectedClass} >\r\n          {this.createBoard()}\r\n        </div>\r\n        <p>{title}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Board;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  handleClick,\r\n  jumpTo,\r\n  toggleSort,\r\n  reset,\r\n\r\n  selectHistory,\r\n  selectStepNumber,\r\n  selectSortIsAsc,\r\n  selectXIsNext\r\n} from './tictactoeSlice';\r\nimport Board from './components/Board';\r\nimport {Switch, Reset} from '../general/helpers/Components';\r\nimport styles from './Tictactoe.module.css';\r\n\r\nfunction calculateWinner(squares) {\r\n  const lines = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6],\r\n  ];\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const [a, b, c] = lines[i];\r\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\r\n      return lines[i];\r\n    }\r\n  }\r\n  return [];\r\n}\r\n\r\nexport function TicTacToe() {\r\n  \r\n  const dispatch = useDispatch();\r\n\r\n  const history = useSelector(selectHistory);\r\n  const stepNumber = useSelector(selectStepNumber);\r\n  // const history = useSelector((state: RootState) => state.tictactoe.history);\r\n  // const stepNumber = useSelector((state: RootState) => state.tictactoe.stepNumber);\r\n\r\n  const current = history[stepNumber];\r\n  const winSquares = calculateWinner(current.squares);\r\n\r\n  // We create the move list to be displayed from the history\r\n  var moves = history.map((step, move) => {\r\n    const desc = move ?\r\n      'Move #' + move :\r\n      'Game start';\r\n    const isSelected = stepNumber === move ? true : false;\r\n    return (\r\n      <li key={move}>\r\n        <Board\r\n          isSelected={isSelected}\r\n          squares={history[move].squares}\r\n          onClick={() => dispatch(jumpTo(move))}\r\n          title={desc}\r\n        />\r\n      </li>\r\n    );\r\n  });\r\n\r\n\r\n  const sortIsAsc = useSelector(selectSortIsAsc);\r\n  // We sort the resulting array in descending order if the toggle is on\r\n  moves = sortIsAsc ? moves : moves.sort((a, b) => b.key - a.key);\r\n\r\n  // Choose which game status has to be displayed\r\n  const xIsNext = useSelector(selectXIsNext);\r\n  let status;\r\n  if (winSquares.length) {\r\n    status = 'Winner: ' + (xIsNext ? 'O' : 'X')\r\n  } else if (stepNumber === 9 && !winSquares.length) {\r\n    status = 'Draw!'\r\n  } else {\r\n    status = 'Next player: ' + (xIsNext ? 'X' : 'O')\r\n  }\r\n\r\n  return (\r\n    <div className={styles.game}>\r\n      <Board \r\n        squares={current.squares}\r\n        winSquares={winSquares}\r\n        onClick={(i) => dispatch(handleClick(i))}\r\n      />\r\n      <div className={styles.game_info}>\r\n        <div>{status}</div>\r\n        <Switch onClick={() => dispatch(toggleSort())}/>\r\n        <Reset title=\"Reset\" onClick={() => dispatch(reset())}/>\r\n        <div className={styles.scrollableY}>\r\n          <ol className={styles.moves}>{moves}</ol>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\n// import { fetchCount } from './connectXAPI';\r\n\r\nconst initialState = {\r\n  history: [{\r\n    slots: Array(42).fill(null),\r\n    boardFlip: 0,\r\n  }],\r\n  stepNumber: 0,\r\n  gameSettings: {\r\n    width: 7,\r\n    height: 6,\r\n    scoreTarget: 4 \r\n  },\r\n  sortIsAsc: true,\r\n  gravIsOn: false,\r\n  transitions: {},\r\n};\r\n\r\nexport const connectXSlice = createSlice({\r\n  name: 'connectX',\r\n  initialState,\r\n  // The `reducers` field lets us define reducers and generate associated actions\r\n  reducers: {\r\n    handleClick: (state, action) => {\r\n      // We ensure the erasure of any \"future\" steps if the game is resumed from a history move\r\n      const stepNumber = state.stepNumber;\r\n      const history = state.history.slice(0, stepNumber + 1);\r\n      const current = history[stepNumber];    \r\n      const slots = current.slots.slice();\r\n      let slotIndex = action.payload;\r\n      // Can't play a slot if it has already been played\r\n      if (slots[slotIndex]) return;\r\n\r\n      if(state.gravIsOn) {\r\n        if (current.boardFlip % 2 === 0) {\r\n          var width = state.gameSettings.width,\r\n              height = state.gameSettings.height;\r\n        } else {\r\n          var width = state.gameSettings.height,\r\n              height = state.gameSettings.width;\r\n        }\r\n\r\n        var transitions = Array(width * height).fill(null);\r\n\r\n        let slotScore = 0;\r\n        // We start iterating at the second to last row\r\n        for(let i = height - 1; i > 0; i--) {\r\n          // We then determine the height the slot sits at by testing its index,\r\n          // we make it a score that represents the distance that this slot can be potentially pushed down\r\n          if(slotIndex >= (i - 1) * width && slotIndex <= i * width - 1) {\r\n            slotScore = height - i;\r\n            break;\r\n          }\r\n        }        \r\n\r\n        if(slotScore) {\r\n          // We iterate on the column the slot sits in and try to push it down, decreasing the score each time it fails\r\n          for (let i = slotIndex + slotScore * width; i > slotIndex; i -= width) {\r\n            if(slots[i] === null) {\r\n              slotIndex = i;\r\n              break;\r\n            }\r\n            slotScore--;\r\n          }\r\n          // We fill the appropriate slot with the value and the height it will travel during animation\r\n          slots[slotIndex] = (state.stepNumber % 2) === 0 ?  'X' : 'O';\r\n          if (slotScore) {\r\n            transitions[slotIndex] = slotScore;\r\n          } else {\r\n            transitions = null;\r\n          }\r\n        }\r\n      }\r\n\r\n      // Or we simply put in the value if it hasn't already\r\n      if(!slots[slotIndex]) slots[slotIndex] = (state.stepNumber % 2) === 0 ?  'X' : 'O';\r\n\r\n      // We add the current board to the history, and assign the stepNumber based on the new history\r\n      state.history = history.concat([{slots: slots, boardFlip: current.boardFlip}]);\r\n      state.stepNumber = history.length;    \r\n      state.transitions = {slots: transitions, board: null};\r\n    },\r\n\r\n    changeStep: (state, action) => {\r\n      state.stepNumber = action.payload;\r\n      state.transitions = {};\r\n    },\r\n\r\n    toggleSort: (state) => {\r\n      state.sortIsAsc = state.sortIsAsc ? false : true;\r\n      state.transitions = {};\r\n    },\r\n\r\n    toggleGravity: (state, action) => {\r\n      const launchedWithClick = action.payload;\r\n      if(launchedWithClick) {\r\n        state.gravIsOn = state.gravIsOn ? false : true;\r\n      }\r\n      ///// USE TRANSFORM(,) FOR GRAVITY ////////\r\n      if(state.gravIsOn) {\r\n        // We get the slots of the currently displayed move\r\n        const stepNumber = state.stepNumber;\r\n        let history = state.history.slice(0, stepNumber + 1);\r\n        const current = history[stepNumber];\r\n        const slots = current.slots.slice();  \r\n\r\n        let slotsChanged = false;\r\n\r\n        let width = state.gameSettings.width;\r\n        const height = state.gameSettings.height;\r\n        let transitions = Array(width * height).fill(null);\r\n\r\n        if (current.boardFlip % 2 !== 0) width = height;\r\n\r\n        let count = 1;\r\n        // We iterate through every rows, counting it (count), starting from the second to last one and going up\r\n        for (let i = slots.length - width - 1; i >= 0; i -= width) {\r\n          // We then iterate through each row, to get to each and every slot\r\n          for (let j = 0; j < width; j++) {\r\n            // We store (count) as a relative height we're at from the first row we go through,\r\n            // giving us a score (l) of how many slots we'll try to \"push down\" the value of the slot.\r\n            // If it fails, we loop and try to push it one slot shorter\r\n            for (let l = count; l > 0; l--) {\r\n              let index = i - j;\r\n              let targetIndex = index + width * l;\r\n              if(slots[index] && slots[targetIndex] === null) {\r\n                // If the slot is filled and the destination is free, we switch the values\r\n                // (l) provides the height indication for the animation\r\n                slots[targetIndex] = slots[index];\r\n                slots[index] = null;\r\n\r\n                slotsChanged = true;\r\n                transitions[targetIndex] = l;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n          count++;\r\n        }\r\n        // We only update the board if gravity brought change\r\n        if(slotsChanged) { \r\n          history = history.slice(0, stepNumber);\r\n          state.history = history.concat([{slots: slots, boardFlip: current.boardFlip}]);\r\n          state.stepNumber = history.length;\r\n          // If the gravity was turned on with a click, we clear the board transition\r\n          state.transitions = {slots: transitions, board: launchedWithClick ? null : state.transitions.board};\r\n        }\r\n      } else {\r\n        state.transitions = {};\r\n      }\r\n    },\r\n\r\n    flipBoardState: (state, action) => {\r\n      // Modify the way the values are placed inside the slots and replace the current history move with it\r\n\r\n      // We get the slots of the currently displayed move\r\n      const stepNumber = state.stepNumber;      \r\n      let history = state.history.slice(0, stepNumber + 1);\r\n      const current = history[stepNumber];\r\n      const slots = current.slots.slice();\r\n\r\n      // We deduce the future flip state of the board with the payload (1 ou -1)\r\n      const flipValue = action.payload;\r\n      let boardFlip = current.boardFlip + flipValue;\r\n      if (boardFlip === -1) boardFlip = 3;\r\n      if (boardFlip === 4) boardFlip = 0;\r\n\r\n      // Adjust the board params to that flip state to iterate through properly through the future board\r\n      if (boardFlip % 2 === 0) {\r\n        var width = state.gameSettings.height,\r\n            height = state.gameSettings.width;\r\n      } else {\r\n        var width = state.gameSettings.width,\r\n            height = state.gameSettings.height;\r\n      }\r\n\r\n      let newSlots = slots.slice();\r\n      let rowCount = height;\r\n      // We iterate through every rows, counting it (count)\r\n      for (let i = slots.length - 1; i >= 0; i -= width) {\r\n        // We then iterate through each row, to get to each and every slot\r\n        for (let j = 0; j < width; j++) {\r\n          const index = i - j;\r\n          // Here are the two formulaes corresponding to flipping the board clockwise and counter clockwise\r\n          // They take the initial index of the slot as well as the number of the row it sits in (first row = 1) as parameters\r\n          const newIndex = flipValue === 1 ? height * (index + 1 - (rowCount - 1) * width) - rowCount : height * (rowCount * width - 1 - index) + rowCount - 1;\r\n          newSlots[newIndex] = slots[index];\r\n        }\r\n        rowCount--;\r\n      }\r\n\r\n      history = history.slice(0, stepNumber);\r\n      state.history = history.concat([{slots: newSlots, boardFlip: boardFlip}]);\r\n      state.stepNumber = history.length;\r\n      state.transitions = {slots: null, board: flipValue * -90};\r\n    },\r\n\r\n    setGameSettings: (state, action) => {\r\n      state.gameSettings = action.payload;\r\n      state.history = [{\r\n        slots: Array(action.payload.width * action.payload.height).fill(null),\r\n        boardFlip: 0\r\n      }];\r\n    },\r\n\r\n    reset: (state) => {\r\n      state.history = state.history.slice(0,1);\r\n      state.stepNumber = 0;\r\n      state.transitions = {};\r\n      state.sortIsAsc = true;\r\n      state.gravIsOn = false;\r\n    }\r\n  },\r\n});\r\n\r\nexport const { handleClick, changeStep, toggleSort, toggleGravity, flipBoardState, setGameSettings, reset} = connectXSlice.actions;\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state: RootState) => state.connectX.value)`\r\nexport const selectHistory = (state) => state.connectX.history;\r\nexport const selectGameSettings = (state) => state.connectX.gameSettings;\r\nexport const selectStepNumber = (state) => state.connectX.stepNumber;\r\nexport const selectSortIsAsc = (state) => state.connectX.sortIsAsc;\r\nexport const selectGravityState = (state) => state.connectX.gravIsOn;\r\nexport const selectTransitions = (state) => state.connectX.transitions;\r\n\r\nexport const jumpTo = (stepNumber) => (dispatch, getState) => {\r\n  dispatch(changeStep(stepNumber));\r\n  // When browsing the steps via the history, we want the game to get up to date if gravity is enabled,\r\n  // thus replacing the move we went to\r\n  if(selectGravityState(getState())) {\r\n    dispatch(toggleGravity(false));\r\n  }\r\n};\r\n\r\nexport const flipBoard = (direction) => (dispatch, getState) => {\r\n  dispatch(flipBoardState(direction));\r\n  // When browsing the steps via the history, we want the game to get up to date if gravity is enabled,\r\n  // thus replacing the move we went to\r\n  if(selectGravityState(getState())) {\r\n    dispatch(toggleGravity(false));\r\n  }\r\n};\r\n\r\nexport const sendGameSettings = (settings) => (dispatch) => {\r\n  dispatch(reset());\r\n  dispatch(setGameSettings(settings));\r\n};\r\n\r\nexport default connectXSlice.reducer;\r\n","import React from 'react';\r\n// CSS\r\nimport styles from '../ConnectX.module.css';\r\n\r\nfunction Slot(props) {\r\n\r\n\t\t// FALL ANIMATION //\r\n\t\tconst slotScore = props.slotScore;\r\n\t\tlet transitionClass = \"\";\r\n\t\tlet speed = 0\r\n\t\tif (slotScore) {\r\n\t\t\ttransitionClass = `hasTransition ${styles.fall}`;\r\n\t\t\tspeed = Math.round((0.16 + 0.189 * Math.log(slotScore)) * 10) / 10;\r\n\t\t}\r\n\r\n\t\t// DISPLAY SLOT CONTENT //\r\n    const contentClass = props.value ? `${styles.slotContent} ${props.value === 'X' ? styles.slotContentX : styles.slotContentO}` : \"\";\r\n    \r\n    // DISPLAY WIN //\r\n    const winClass = props.winStyle ? \"wonSlot\" : \"\";\r\n    let coeff = -1;\r\n  return (\r\n    <button\r\n    \tclassName={`${styles.slot} ${winClass}`}\r\n    \tonClick={props.onClick}\r\n    >\r\n      <div \tstyle={{'--slotStartPos': `calc(${coeff * slotScore * 125}% + ${slotScore}px)`,'--speed': `${speed}s`}}\r\n\t\t\t\t\t\tclassName={`${contentClass} ${transitionClass}`} onTransitionEnd={props.handleTransitionEnd}>\r\n      </div>\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Slot;","import React from 'react';\r\n// CSS\r\nimport styles from './ConnectX.module.css';\r\n\r\n// WIN DISPLAY //\r\nexport function styleWin() {\r\n  const slots = Array.from(document.querySelectorAll('.wonSlot'));\r\n  console.log(slots);\r\n  slots.forEach(e => {\r\n    e.classList.add(styles.win);\r\n  });    \r\n};\r\n\r\n// LAUNCH TRANSITIONS //\r\nexport function animateBoards() {\r\n  // We get all elements with the transition class\r\n  const animatedElements = Array.from(document.querySelectorAll('.hasTransition'));\r\n  animatedElements.forEach(e => {\r\n    // First we clear out the class on the previously animated elements\r\n    e.classList.remove(styles.animate);\r\n    // We trust the transitions for animations happening after this update\r\n    setTimeout(() => { e.classList.add(styles.animate); }, 0);\r\n  });\r\n};\r\n","import React from 'react';\r\nimport Slot from './Slot';\r\nimport { animateBoards, styleWin } from '../ConnectXTransitions.js';\r\n// CSS\r\nimport styles from '../ConnectX.module.css';\r\n\r\nclass Board extends React.Component {\r\n\r\n  // ANIMATION & WIN TRIGGER //\r\n  componentDidUpdate() {\r\n    // We use this hook to manipulate the transitions on the dom elements \r\n    const transitions = this.props.transitions;\r\n    if(this.props.isMainBoard) {\r\n    console.log('main upadte')\r\n      // If transitions are present, we play them\r\n      if (transitions && (transitions.slots || transitions.board)) {\r\n        animateBoards();\r\n      } else {\r\n        // If there's none, we directly style the winning slots\r\n        if(this.props.winIndexes.length) styleWin();\r\n      }\r\n    }\r\n  }\r\n\r\n  // TRANSITIONS CALLBACK //\r\n  handleTransitionEnd = (event) => {\r\n    // We wait for the end of the transitions to style the winning slots\r\n    styleWin();\r\n  };\r\n\r\n  // PREPARE THE SLOT //\r\n  renderSlot = (i, isBoardWon) => {\r\n    // We deactivate the handleclick action if the board is won\r\n    const onClickFunc = isBoardWon ? undefined : () => this.props.onClick(i);\r\n\r\n    // Determine if the slot is part of a winning streak\r\n    const winIndexes = isBoardWon ? this.props.winIndexes : null;\r\n    const winStyle = winIndexes && winIndexes.includes(i) ? true : false;  \r\n\r\n    // Assign the slot a score based on the animation map: the higher the score, the longer the aniamtion \r\n    const transitions = this.props.transitions ? this.props.transitions.slots : null;\r\n    let slotScore = 0;\r\n    let animationCallback;\r\n    if(transitions && transitions[i]) {\r\n      slotScore = transitions[i];\r\n      if(isBoardWon) { // For now we only put the callback to style a win \r\n        // Sort out the null elements, then sort in descending order the slotScores that are left inside\r\n        // and take out the first value, which indicates the maximum animation score for this render\r\n        const maxScore = transitions.filter(el => {return el != null;}).sort((a, b) => b - a)[0];\r\n        // Finds the first index with a maxScore in the map and check if it corresponds to the current index\r\n        const isFirstMaxScoreSlot = i === transitions.findIndex(e => e === maxScore);\r\n        // We make this slot a reference for the longest animation and put the callback onto it\r\n        if(isFirstMaxScoreSlot) animationCallback = (i) => this.handleTransitionEnd(i);\r\n      }\r\n    }\r\n    return (\r\n      <Slot\r\n        key={i}\r\n        value={this.props.slots[i]}\r\n        onClick={onClickFunc}\r\n        slotScore={slotScore}\r\n        winStyle={winStyle}\r\n        handleTransitionEnd={animationCallback}\r\n      /> \r\n    );\r\n  }\r\n\r\n  // STRUCTURE THE SLOTS AND STYLE THE BOARD  //\r\n  createBoard = (boardParams, isMainBoard, isBoardWon) => {\r\n    let board = []\r\n    let index = 0;\r\n \r\n    // Outer loop adding the full rows to the board\r\n    for (let i = 0; i < boardParams.height; i++) {\r\n      let slots = [];\r\n      // Inner loop creating the slots of the rows\r\n      for (let j = 0; j < boardParams.width; j++) {\r\n        slots.push(this.renderSlot(index, isBoardWon));\r\n        index++;\r\n      }\r\n      // At the end of the outer loop, we encapsulate our slots in row\r\n      board.push(<div key={i} className={styles.board_row}>{slots}</div>)\r\n    }\r\n\r\n    const startAngle = this.props.transitions && this.props.transitions.board ? this.props.transitions.board : 0;\r\n\r\n    return (\r\n      <div style={{'--boardStartPos': `rotateZ(${startAngle}deg)`}}\r\n          className={`\r\n              ${startAngle === 0 ? \"\" : `hasTransition ${styles.flip}`} \r\n              ${styles.board} \r\n              ${isMainBoard ? styles.main_board : \"\"} \r\n              ${this.props.isSelected ? styles.selected : \"\"}\r\n            `}\r\n          onTransitionEnd={isMainBoard && isBoardWon ? () => this.handleTransitionEnd() : undefined} >\r\n        {board}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // RETURN THE BOARD'S OWN CSS VARIABLES //\r\n  styleBoard = (size, boardParams) => {\r\n    // Align the size of the board to fit the slots  \r\n    // Arbitrary decision to occupy (X%) amount of space in the viewport\r\n    // Calculate two sizes for the slot based on the available space on both axes in the viewport\r\n    let slotSize = Math.floor(window.innerHeight * 0.55 / (boardParams.height * size));\r\n    let slotSizeDiff = Math.floor(window.innerHeight * 0.55 / (boardParams.width * size));\r\n    // let slotSizeDiff = Math.floor(window.innerWidth * 0.8 / (boardParams.width * size));\r\n\r\n    // The final size will be the smallest of the two, as we want the board to fit inside the viewport\r\n    slotSize = slotSize <= slotSizeDiff ? slotSize : slotSizeDiff;\r\n\r\n    // let fontSize = Math.round((boardWidth / 15.22) * Math.pow(this.props.boardParams.width, -1) * 10 /*/ size*/) / 10;\r\n    let fontSize = Math.round((boardParams.height / 130) * 10 /*/ size*/) / 10;\r\n    if (fontSize <= 0.5) fontSize = 0;\r\n\r\n    return {\r\n      '--boardWidth': slotSize * boardParams.width + 'px',\r\n      '--boardHeight': slotSize * boardParams.height + 'px',\r\n      // We use margin-right: -1px to merge the borders together on the boards, so we bump the slot size by 1 to compensate\r\n      '--slotSize': (slotSize + 1) + 'px',\r\n      '--fontSize': fontSize + 'em'\r\n    }\r\n  };\r\n\r\n  render() {\r\n    // The board flip indicates us which dimension to take as which for the board\r\n    if (this.props.flip % 2 === 0) {\r\n      var boardParams = this.props.boardParams;\r\n    } else {\r\n      var boardParams = {width: this.props.boardParams.height, height: this.props.boardParams.width};\r\n    }\r\n\r\n    const isMainBoard = this.props.isMainBoard;\r\n    // Display a title under the history moves\r\n    const title = isMainBoard ? \"\" : this.props.title;\r\n\r\n    const isBoardWon = isMainBoard && this.props.winIndexes.length ? true : false;   \r\n    // We tweak the style of the board depending on it being the main one or not\r\n    // styleBoard(n, params) styles the board at a 1:n ratio\r\n    return (\r\n      <div style={isMainBoard ? this.styleBoard(1, boardParams) : this.styleBoard(4, boardParams)} \r\n          className={isMainBoard ? styles.main : \"\"}>\r\n        {this.createBoard(boardParams, isMainBoard, isBoardWon)}\r\n        <p className={styles.title}>{title}</p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Board;","import React from 'react';\r\n// CSS\r\nimport styles from '../ConnectX.module.css';\r\n\r\nclass Form extends React.Component {\r\n\tprepareInfos = event => {\r\n\t\tevent.preventDefault();\r\n\t\t// We prepare the message details as an object\r\n\t\t// before sending them to the state\r\n\t\tconst gameInfos = {\r\n\t\t\twidth: parseInt(this.width.value),\r\n\t\t\theight: parseInt(this.height.value),\r\n\t\t\tscoreTarget: parseInt(this.scoreTarget.value)\r\n\t\t};\r\n\t\tthis.props.sendGameSettings(gameInfos);\r\n\r\n\t\t// We clear the textarea\r\n\t\tthis.infosForm.reset();\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<form \r\n\t\t\t\tclassName={styles.form}\r\n\t\t\t\tonSubmit={i => this.prepareInfos(i)}\r\n\t\t\t\tref={i => this.infosForm = i}\r\n\t\t\t>\r\n\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\" pattern=\"[0-9]*\"\r\n\t\t\t\t\tmaxLength={this.props.length}\r\n\t\t\t\t\tref={i => this.width = i}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\" pattern=\"[0-9]*\"\r\n\t\t\t\t\tmaxLength={this.props.length}\r\n\t\t\t\t\tref={i => this.height = i}\r\n\t\t\t\t/>\t\t\t\t\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\" pattern=\"[0-9]*\"\r\n\t\t\t\t\tmaxLength={this.props.length}\r\n\t\t\t\t\tref={i => this.scoreTarget = i}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<button type=\"submit\" >\r\n\t\t\t\t\t\tEnvoyer!\r\n\t\t\t\t</button>\r\n\r\n\t\t\t</form>\r\n\t\t)\r\n\t}\r\n\r\n}\r\n\r\nexport default Form;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  handleClick,\r\n  jumpTo,\r\n  toggleSort,\r\n  toggleGravity,\r\n  flipBoard,\r\n  sendGameSettings,\r\n  reset,\r\n\r\n  selectTransitions,\r\n  selectGravityState,  \r\n  selectGameSettings,\r\n  selectHistory,\r\n  selectStepNumber,\r\n  selectSortIsAsc,\r\n} from './connectXSlice';\r\nimport Board from './components/Board';\r\nimport Form from './components/Form';\r\nimport {Switch, Reset} from '../general/helpers/Components';\r\nimport {calculateWinner} from '../general/helpers/Functions';\r\n// CSS\r\nimport styles from './ConnectX.module.css';\r\n\r\nexport function ConnectX() {\r\n  const dispatch = useDispatch();\r\n\r\n  const history = useSelector(selectHistory);\r\n  const stepNumber = useSelector(selectStepNumber);\r\n  let currentSlots = history[stepNumber].slots;\r\n\r\n  const gameSettings = useSelector(selectGameSettings);\r\n  const boardFlip = history[stepNumber].boardFlip;\r\n  let boardParams = {\r\n    width: gameSettings.width,\r\n    height: gameSettings.height\r\n  }\r\n\r\n  let transitions = useSelector(selectTransitions);\r\n  transitions = Object.keys(transitions).length === 0 ? null : transitions;\r\n  console.log(transitions);\r\n  let winIndexes = [];\r\n  const scoreTarget = gameSettings.scoreTarget;\r\n  if (stepNumber >= (scoreTarget * 2 - 1)) {\r\n    const boardWidth = boardFlip % 2 === 0 ? boardParams.width : boardParams.height;\r\n    winIndexes = calculateWinner((history[stepNumber - 1]).slots, currentSlots, scoreTarget, boardWidth);\r\n  console.log(\"winIndexes\",winIndexes);\r\n  }\r\n  // We create the move list to be displayed from the history\r\n  let moves = history.map((step, move) => {\r\n    const desc = move ?'Move #' + move : 'Game start';\r\n    const isSelected = stepNumber === move ? true : false;\r\n    const isLatestHistoryMove = move && move === history.length - 1;\r\n\r\n    return (\r\n      <li key={move}>\r\n        <Board\r\n          boardParams={boardParams}        \r\n          isSelected={isSelected}\r\n          slots={history[move].slots}\r\n          transitions={isLatestHistoryMove ? transitions : null}\r\n          flip={history[move].boardFlip}\r\n          onClick={() => dispatch(jumpTo(move))}\r\n          title={desc}\r\n        />\r\n      </li>\r\n    );\r\n  });\r\n\r\n  const sortIsAsc = useSelector(selectSortIsAsc);\r\n  // We sort the resulting array in descending order if the toggle is on\r\n  moves = sortIsAsc ? moves : moves.sort((a, b) => b.key - a.key);\r\n\r\n\r\n  ////////////////////// SET better rules for the game flow and build next player detection accordingly ////////////\r\n  // Choose which game status has to be displayed\r\n  let player = (stepNumber % 2) === 0 ?  'X' : 'O';\r\n  let status;\r\n\r\n  if (winIndexes.length) {\r\n    let streakCount = 0;\r\n    winIndexes.forEach(index => {\r\n      if(currentSlots[index] === 'X') streakCount++;\r\n    });\r\n    if(streakCount > winIndexes.length - streakCount) {\r\n      status = 'Winner: X';\r\n    } else if (streakCount < winIndexes.length - streakCount){\r\n      status = 'Winner: O';\r\n    } else {\r\n      status = 'Draw!'\r\n    }\r\n  } else if (!winIndexes.length && stepNumber === currentSlots.length) {\r\n    status = 'Draw!'\r\n  } else {\r\n    status = 'Next player: ' + player\r\n  }\r\n  return (\r\n    <div className={styles.game}>\r\n      {/*PROTECT FORM INPUTS FROM VALUES TOO BIG*/}\r\n      <Form sendGameSettings={(i) => dispatch(sendGameSettings(i))} />\r\n      <Board\r\n        isMainBoard={true}\r\n        boardParams={boardParams}\r\n        slots={currentSlots}\r\n        transitions={transitions}\r\n        flip={boardFlip}\r\n        winIndexes={winIndexes}\r\n        onClick={(i) => dispatch(handleClick(i))}\r\n      />\r\n      <div className={styles.game_info}>\r\n        <div className={styles.status}>{status}</div>\r\n        <div className={styles.controls}>\r\n          <button onClick={() => dispatch(flipBoard(1))}>Flip right</button>\r\n          <button onClick={() => dispatch(flipBoard(-1))}>Flip left</button>\r\n          <Switch isOn={!sortIsAsc} onClick={() => dispatch(toggleSort())}/>\r\n          <Switch isOn={useSelector(selectGravityState)} onClick={() => dispatch(toggleGravity(true))}/>\r\n          <Reset title=\"Reset\" onClick={() => dispatch(reset())}/>\r\n        </div>\r\n      {/*Restructure the scroll box so it expands as the moves come in, but make it scrollable so it slides under the main div\r\n         Basically remove the scroll bar entirely, make the bottom of the page a div that translateY onScrollEvent*/}\r\n        <div className={styles.scrollableY}>\r\n          <ol className={styles.moves}>{moves}</ol>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","// A function that returns an array of indexes corresponding the slots that are part of a winning streak\r\n// on a two dimensionnal board, whatever the (reasonable) size\r\n// (previous) and (current) are arrays representing the two dimensionnal board at different steps\r\n// (scoreTarget) is the INT number of slots of the same value in line needed to win\r\n// (rowLength) is the INT number of slots in a single row of the board\r\nexport function calculateWinner(previous, current, scoreTarget, rowLength) {\r\n  let winSlots = [];\r\n  let finalWinSlots = [];\r\n\r\n  // We look for the differences between the current and previous board\r\n  let indexes = [];\r\n  for(const i in current) {\r\n    if(current[i] !== previous[i]) indexes.push(parseInt(i));\r\n  }\r\n\r\n  // console.log(indexes);\r\n  // We loop through each of these slots, as potential part of a winning streak\r\n  for (let j = indexes.length - 1; j >= 0; j--) {\r\n    const index = indexes[j];\r\n    // We dont run the check if the current index is already marked as part of a streak\r\n    if(!finalWinSlots.find(e => e === index)) {\r\n      const currentValue = current[index];\r\n      // We search for streaks of the same value on all 4 axes and 8 directions, starting from the current index\r\n      // Horizontal axis\r\n      let streakL = 0;\r\n      for(let i = index; i > index - scoreTarget; i--) {\r\n        if(current[i-1] && current[i-1] === currentValue && i % rowLength !== 0) {\r\n          streakL++;\r\n          winSlots.push(i-1);\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n      let streakR = 0;\r\n      for(let i = index; i < index + scoreTarget; i++) {\r\n        if(current[i+1] && current[i+1] === currentValue && (i+1) % rowLength !== 0) {\r\n          streakR++;\r\n          winSlots.push(i+1);\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n      // We add the streak of both direction together, and check if it reaches the required score\r\n      const isWinHoriz = (streakL + streakR) >= scoreTarget - 1 ? true : false;\r\n      // console.log(streakL);\r\n      // console.log(streakR);\r\n      // console.log(\"WIN HORIZ:\", isWinHoriz);\r\n      \r\n      // If it does, we add the current index to our work variable as part of the streak,\r\n      // then add the whole thing to our return variable\r\n      if(isWinHoriz) {\r\n        winSlots.push(index);   \r\n        finalWinSlots = finalWinSlots.concat(winSlots);\r\n      }     \r\n      winSlots = [];\r\n\r\n      // Vertical axis\r\n      let streakT = 0;\r\n      for(let i = index; i > index - (scoreTarget * rowLength); i -= rowLength) {\r\n        if(current[i-rowLength] && current[i-rowLength] === currentValue) {\r\n          streakT++;\r\n          winSlots.push(i-rowLength);      \r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n      let streakB = 0;\r\n      for(let i = index; i < index + (scoreTarget * rowLength); i += rowLength) {\r\n        if(current[i+rowLength] && current[i+rowLength] === currentValue) {\r\n          streakB++;\r\n          winSlots.push(i+rowLength);      \r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n      const isWinVert = (streakT + streakB) >= scoreTarget - 1 ? true : false;\r\n      // console.log(streakT);\r\n      // console.log(streakB);\r\n      // console.log(\"WIN VERT:\", isWinVert);\r\n\r\n      if(isWinVert) {\r\n        winSlots.push(index);\r\n        finalWinSlots = finalWinSlots.concat(winSlots);\r\n      }\r\n      winSlots = [];\r\n\r\n      // Top diagonal axis\r\n      let streakTL = 0;\r\n      for(let i = index; i > index - scoreTarget * (rowLength + 1); i -= (rowLength + 1)) {\r\n        if(current[i-rowLength-1] && current[i-rowLength-1] === currentValue && i % rowLength !== 0) {\r\n          streakTL++;\r\n          winSlots.push(i-rowLength-1);      \r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n      let streakBR = 0;\r\n      for(let i = index; i < index + scoreTarget * (rowLength + 1); i += (rowLength + 1)) {\r\n        if(current[i+rowLength+1] && current[i+rowLength+1] === currentValue && (i+1) % rowLength !== 0) {\r\n          streakBR++;\r\n          winSlots.push(i+rowLength+1);      \r\n        } else {\r\n          break;\r\n        }\r\n      }  \r\n      const isWinDiagT = (streakTL + streakBR) >= scoreTarget - 1 ? true : false;\r\n      // console.log(streakTL);\r\n      // console.log(streakBR);\r\n      // console.log(\"WIN DIAGT:\", isWinDiagT);\r\n\r\n      if(isWinDiagT) {\r\n        winSlots.push(index);\r\n        finalWinSlots = finalWinSlots.concat(winSlots);\r\n      }\r\n      winSlots = [];\r\n\r\n      // Bottom diagonal axis\r\n      let streakTR = 0;\r\n      for(let i = index; i > index - scoreTarget * (rowLength - 1); i -= (rowLength - 1)) {\r\n        if(current[i-rowLength+1] && current[i-rowLength+1] === currentValue && (i+1) % rowLength !== 0) {\r\n          streakTR++;\r\n          winSlots.push(i-rowLength+1);      \r\n        } else {\r\n          break;\r\n        }\r\n      }  \r\n      let streakBL = 0;\r\n      for(let i = index; i < index + scoreTarget * (rowLength - 1); i += (rowLength - 1)) {\r\n        if(current[i+rowLength-1] && current[i+rowLength-1] === currentValue && i % rowLength !== 0) {\r\n          streakBL++;\r\n          winSlots.push(i+rowLength-1);      \r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n      const isWinDiagB = (streakTR + streakBL) >= scoreTarget - 1 ? true : false;\r\n      // console.log(streakTR);\r\n      // console.log(streakBL);\r\n      // console.log(\"WIN DIAGB:\", isWinDiagB);\r\n\r\n      if(isWinDiagB) {\r\n        winSlots.push(index);\r\n        finalWinSlots = finalWinSlots.concat(winSlots);\r\n      }\r\n      winSlots = [];\r\n    }\r\n  } \r\n\r\n  // console.log(finalWinSlots);  \r\n  return finalWinSlots;\r\n}\r\n\r\n////////////////////////////////////////////////////////////////////////////////////////////////////","// A mock function to mimic making an async request for data\r\nexport function fetchCount(amount = 1) {\r\n  return new Promise((resolve) =>\r\n    setTimeout(() => resolve({ data: amount }), 500)\r\n  );\r\n}\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { fetchCount } from './counterAPI';\r\n\r\nconst initialState = {\r\n  value: 0,\r\n  status: 'idle',\r\n};\r\n\r\n// The function below is called a thunk and allows us to perform async logic. It\r\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\r\n// will call the thunk with the `dispatch` function as the first argument. Async\r\n// code can then be executed and other actions can be dispatched. Thunks are\r\n// typically used to make async requests.\r\nexport const incrementAsync = createAsyncThunk(\r\n  'counter/fetchCount',\r\n  async (amount) => {\r\n    const response = await fetchCount(amount);\r\n    // The value we return becomes the `fulfilled` action payload\r\n    return response.data;\r\n  }\r\n);\r\n\r\nexport const counterSlice = createSlice({\r\n  name: 'counter',\r\n  initialState,\r\n  // The `reducers` field lets us define reducers and generate associated actions\r\n  reducers: {\r\n    increment: (state) => {\r\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n      // doesn't actually mutate the state because it uses the Immer library,\r\n      // which detects changes to a \"draft state\" and produces a brand new\r\n      // immutable state based off those changes\r\n      state.value += 1;\r\n    },\r\n    decrement: (state) => {\r\n      state.value -= 1;\r\n    },\r\n    // Use the PayloadAction type to declare the contents of `action.payload`\r\n    incrementByAmount: (state, action) => {\r\n      state.value += action.payload;\r\n    },\r\n  },\r\n  // The `extraReducers` field lets the slice handle actions defined elsewhere,\r\n  // including actions generated by createAsyncThunk or in other slices.\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(incrementAsync.pending, (state) => {\r\n        state.status = 'loading';\r\n      })\r\n      .addCase(incrementAsync.fulfilled, (state, action) => {\r\n        state.status = 'idle';\r\n        state.value += action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions;\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\r\nexport const selectCount = (state) => state.counter.value;\r\n\r\n// We can also write thunks by hand, which may contain both sync and async logic.\r\n// Here's an example of conditionally dispatching actions based on current state.\r\nexport const incrementIfOdd = (amount) => (dispatch, getState) => {\r\n  const currentValue = selectCount(getState());\r\n  if (currentValue % 2 === 1) {\r\n    dispatch(incrementByAmount(amount));\r\n  }\r\n};\r\n\r\nexport default counterSlice.reducer;\r\n","import React, { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  decrement,\r\n  increment,\r\n  incrementByAmount,\r\n  incrementAsync,\r\n  incrementIfOdd,\r\n  selectCount,\r\n} from './counterSlice';\r\nimport styles from './Counter.module.css';\r\n\r\nexport function Tbd() {\r\n  const count = useSelector(selectCount);\r\n  const dispatch = useDispatch();\r\n  const [incrementAmount, setIncrementAmount] = useState('2');\r\n\r\n  const incrementValue = Number(incrementAmount) || 0;\r\n\r\n  return (\r\n    <div>\r\n      <div className={styles.row}>\r\n        <button\r\n          className={styles.button}\r\n          aria-label=\"Decrement value\"\r\n          onClick={() => dispatch(decrement())}\r\n        >\r\n          -\r\n        </button>\r\n        <span className={styles.value}>{count}</span>\r\n        <button\r\n          className={styles.button}\r\n          aria-label=\"Increment value\"\r\n          onClick={() => dispatch(increment())}\r\n        >\r\n          +\r\n        </button>\r\n      </div>\r\n      <div className={styles.row}>\r\n        <input\r\n          className={styles.textbox}\r\n          aria-label=\"Set increment amount\"\r\n          value={incrementAmount}\r\n          onChange={(e) => setIncrementAmount(e.target.value)}\r\n        />\r\n        <button\r\n          className={styles.button}\r\n          onClick={() => dispatch(incrementByAmount(incrementValue))}\r\n        >\r\n          Add Amount\r\n        </button>\r\n        <button\r\n          className={styles.asyncButton}\r\n          onClick={() => dispatch(incrementAsync(incrementValue))}\r\n        >\r\n          Add Async\r\n        </button>\r\n        <button\r\n          className={styles.button}\r\n          onClick={() => dispatch(incrementIfOdd(incrementValue))}\r\n        >\r\n          Add If Odd Tbd\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport logo from './logo.svg';\r\nimport { Nav } from './features/nav/Nav';\r\nimport { Counter } from './features/counter/Counter';\r\nimport { TicTacToe } from './features/tictactoe/TicTacToe';\r\nimport { ConnectX } from './features/connectX/ConnectX';\r\nimport { Tbd } from './features/bejeweled/Tbd';\r\n\r\n// CSS\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      items: {\r\n        'Counter': Counter,\r\n        'TicTacToe': TicTacToe,\r\n        'ConnectX': ConnectX,\r\n        'Tbd': Tbd\r\n      },\r\n      itemSelected: null,      \r\n    };\r\n    this.handleClick = this.handleClick.bind(this);    \r\n  }\r\n\r\n  handleClick(i) {\r\n    this.setState({ itemSelected: i.target.name});\r\n  }\r\n\r\n  render() {\r\n    const itemSelected = this.state.itemSelected ? React.createElement(this.state.items[this.state.itemSelected], {}) : null;    \r\n    return (\r\n      <div className=\"App\">\r\n        <Nav items={this.state.items} handleClick={this.handleClick}/>\r\n        <div className=\"main\">{itemSelected}</div>\r\n{/*        <footer>\r\n          <span>\r\n            <span>Learn </span>\r\n            <a\r\n              className=\"App-link\"\r\n              href=\"https://reactjs.org/\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              React\r\n            </a>\r\n            <span>, </span>\r\n            <a\r\n              className=\"App-link\"\r\n              href=\"https://redux.js.org/\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              Redux\r\n            </a>\r\n            <span>, </span>\r\n            <a\r\n              className=\"App-link\"\r\n              href=\"https://redux-toolkit.js.org/\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              Redux Toolkit\r\n            </a>\r\n            ,<span> and </span>\r\n            <a\r\n              className=\"App-link\"\r\n              href=\"https://react-redux.js.org/\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              React Redux\r\n            </a>\r\n          </span>        \r\n        </footer>*/}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\n\r\nconst NotFound = () => {\r\n\treturn (\r\n\t\t<h2 className=\"notFound\">Nothing to see here</h2>\r\n\t)\r\n}\r\n\r\nexport default NotFound;","import {\r\n\tconfigureStore,\r\n\tcombineReducers,\r\n\tgetDefaultMiddleware\r\n} from '@reduxjs/toolkit';\r\n// import { connectRouter, routerMiddleware } from \"connected-react-router\";\r\n\r\nimport navReducer from '../features/nav/navSlice';\r\nimport counterReducer from '../features/counter/counterSlice';\r\nimport tictactoeReducer from '../features/tictactoe/tictactoeSlice';\r\nimport connectXReducer from '../features/connectX/connectXSlice';\r\n\r\nimport history from '../history';\r\n// export const store = configureStore({\r\n//   reducer: {\r\n//     counter: counterReducer,\r\n//     tictactoe: tictactoeReducer,\r\n//   },\r\n// });\r\n\r\nconst combinedReducer = combineReducers({\r\n  nav: navReducer,\r\n  counter: counterReducer,\r\n  tictactoe: tictactoeReducer,\r\n  connectX: connectXReducer,\r\n});\r\n\r\n// const rootReducer = (history: history) => ({\r\n//     router: connectRouter(history)\r\n// })\r\n\r\n// export default configureStore({\r\n//   reducer: rootReducer(history),\r\n//   middleware: [routerMiddleware(history), ...getDefaultMiddleware()]\r\n// });\r\n\r\nconst rootReducer = (state, action) => {\r\n// Reducers are supposed to return the initial state when they are called\r\n// with undefined as the first argument, no matter the action\r\n  if (action.type === 'nav/reset') {\r\n    state = undefined;\r\n  }\r\n  return combinedReducer(state, action);\r\n};\r\n\r\nexport default configureStore({\r\n  reducer: rootReducer,\r\n  middleware: [...getDefaultMiddleware()]\r\n});\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n// Rooter\r\nimport {Router, Route, Switch} from 'react-router-dom';\r\nimport history from './history';\r\nimport { ConnectedRouter } from \"connected-react-router\";\r\n\r\n//Components\r\nimport Connexion from './components/Connexion'\r\nimport App from './App';\r\nimport NotFound from './components/NotFound'\r\n\r\nimport store from './app/store';\r\nimport { Provider } from 'react-redux';\r\n// import * as serviceWorker from './serviceWorker';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n\t\t\t<Router history={history} basename=\"/redux-project/\">\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route exact path='/' component={Connexion} />\r\n\t\t\t\t\t<Route path=\"/pseudo/:pseudo\"  component={App} /> \r\n\t\t\t\t\t<Route component={NotFound}/>\r\n\t\t\t\t</Switch>\r\n\t\t\t</Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n// serviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"board_row\":\"Tictactoe_board_row__3rgFx\",\"status\":\"Tictactoe_status__1yWkH\",\"square\":\"Tictactoe_square__2FLKp\",\"selected\":\"Tictactoe_selected__2J0dk\",\"win\":\"Tictactoe_win__3iu36\",\"kbd-navigation\":\"Tictactoe_kbd-navigation__1k7WA\",\"game\":\"Tictactoe_game__1L0bM\",\"game_info\":\"Tictactoe_game_info__3MppA\",\"board\":\"Tictactoe_board__EHRYs\",\"game_board\":\"Tictactoe_game_board__10zJy\",\"moves\":\"Tictactoe_moves__1SQaE\",\"scrollableY\":\"Tictactoe_scrollableY__Q9GYP\"};"],"sourceRoot":""}